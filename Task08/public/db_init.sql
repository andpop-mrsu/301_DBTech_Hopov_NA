-- Создание таблицы врачей
CREATE TABLE IF NOT EXISTS doctors (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    last_name TEXT NOT NULL,
    first_name TEXT NOT NULL,
    middle_name TEXT,
    specialization TEXT NOT NULL,
    phone TEXT,
    email TEXT
);

-- Создание таблицы графиков работы
CREATE TABLE IF NOT EXISTS schedules (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    doctor_id INTEGER NOT NULL,
    day_of_week INTEGER NOT NULL,
    start_time TEXT NOT NULL,
    end_time TEXT NOT NULL,
    office TEXT,
    FOREIGN KEY (doctor_id) REFERENCES doctors(id) ON DELETE CASCADE
);

-- Создание таблицы услуг
CREATE TABLE IF NOT EXISTS services (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    doctor_id INTEGER NOT NULL,
    service_name TEXT NOT NULL,
    service_date DATE NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    patient_name TEXT NOT NULL,
    FOREIGN KEY (doctor_id) REFERENCES doctors(id) ON DELETE CASCADE
);

-- Удаление существующих данных (в правильном порядке из-за внешних ключей)
DELETE FROM services;
DELETE FROM schedules;
DELETE FROM doctors;

-- Добавление новых врачей
INSERT INTO doctors (last_name, first_name, middle_name, specialization, phone, email) VALUES 
('Соколов', 'Артем', 'Игоревич', 'Терапевт', '+7 (901) 111-22-33', 'artem.sokolov@medcenter.ru'),
('Новикова', 'Виктория', 'Андреевна', 'Хирург', '+7 (901) 222-33-44', 'vika.novikova@medcenter.ru'),
('Кузнецов', 'Максим', 'Дмитриевич', 'Кардиолог', '+7 (901) 333-44-55', 'max.kuznetsov@medcenter.ru'),
('Мельникова', 'Анастасия', 'Сергеевна', 'Невролог', '+7 (901) 444-55-66', 'nastya.melnikova@medcenter.ru'),
('Попов', 'Кирилл', 'Владимирович', 'Офтальмолог', '+7 (901) 555-66-77', 'kirill.popov@medcenter.ru'),
('Лебедева', 'Екатерина', 'Алексеевна', 'Стоматолог', '+7 (901) 666-77-88', 'katya.lebedeva@medcenter.ru'),
('Морозов', 'Денис', 'Павлович', 'Отоларинголог', '+7 (901) 777-88-99', 'denis.morozov@medcenter.ru'),
('Волкова', 'Ольга', 'Михайловна', 'Гинеколог', '+7 (901) 888-99-00', 'olga.volkova@medcenter.ru'),
('Соловьев', 'Роман', 'Анатольевич', 'Уролог', '+7 (901) 999-00-11', 'roman.soloviev@medcenter.ru'),
('Васильева', 'Ирина', 'Витальевна', 'Эндокринолог', '+7 (901) 000-11-22', 'irina.vasilieva@medcenter.ru'),
('Зайцева', 'Марина', 'Станиславовна', 'Педиатр', '+7 (901) 123-45-67', 'marina.zaitseva@medcenter.ru'),
('Павлов', 'Антон', 'Олегович', 'Травматолог', '+7 (901) 234-56-78', 'anton.pavlov@medcenter.ru'),
('Семенова', 'Юлия', 'Ивановна', 'Дерматолог', '+7 (901) 345-67-89', 'yulia.semenova@medcenter.ru'),
('Голубев', 'Владислав', 'Романович', 'Психиатр', '+7 (901) 456-78-90', 'vlad.golubev@medcenter.ru'),
('Воробьева', 'Татьяна', 'Викторовна', 'Онколог', '+7 (901) 567-89-01', 'tatyana.vorobeva@medcenter.ru');

-- Добавление графика работы
INSERT INTO schedules (doctor_id, day_of_week, start_time, end_time, office) VALUES
-- Врач 1 - Терапевт (Соколов А.И.)
(1, 1, '09:00', '15:00', '201'),
(1, 2, '09:00', '15:00', '201'),
(1, 3, '09:00', '15:00', '201'),
(1, 4, '09:00', '15:00', '201'),
(1, 5, '09:00', '15:00', '201'),

-- Врач 2 - Хирург (Новикова В.А.)
(2, 1, '10:00', '18:00', '305'),
(2, 2, '10:00', '18:00', '305'),
(2, 3, '10:00', '18:00', '305'),
(2, 4, '10:00', '18:00', '305'),
(2, 5, '10:00', '16:00', '305'),

-- Врач 3 - Кардиолог (Кузнецов М.Д.)
(3, 1, '08:00', '14:00', '402'),
(3, 3, '08:00', '14:00', '402'),
(3, 5, '08:00', '14:00', '402'),

-- Врач 4 - Невролог (Мельникова А.С.)
(4, 2, '11:00', '19:00', '315'),
(4, 4, '11:00', '19:00', '315'),
(4, 6, '10:00', '15:00', '315'),

-- Врач 5 - Офтальмолог (Попов К.В.)
(5, 1, '08:30', '16:30', '108'),
(5, 2, '08:30', '16:30', '108'),
(5, 3, '08:30', '16:30', '108'),
(5, 4, '08:30', '16:30', '108'),
(5, 5, '08:30', '14:30', '108'),

-- Врач 6 - Стоматолог (Лебедева Е.А.)
(6, 1, '13:00', '21:00', '206'),
(6, 2, '13:00', '21:00', '206'),
(6, 3, '13:00', '21:00', '206'),
(6, 4, '13:00', '21:00', '206'),
(6, 5, '13:00', '19:00', '206'),

-- Врач 7 - ЛОР (Морозов Д.П.)
(7, 1, '09:00', '17:00', '217'),
(7, 3, '09:00', '17:00', '217'),
(7, 5, '09:00', '17:00', '217'),

-- Врач 8 - Гинеколог (Волкова О.М.)
(8, 2, '08:00', '16:00', '324'),
(8, 4, '08:00', '16:00', '324'),
(8, 6, '09:00', '14:00', '324'),

-- Врач 9 - Уролог (Соловьев Р.А.)
(9, 1, '10:00', '18:00', '419'),
(9, 3, '10:00', '18:00', '419'),
(9, 5, '10:00', '18:00', '419'),

-- Врач 10 - Эндокринолог (Васильева И.В.)
(10, 2, '09:00', '17:00', '205'),
(10, 4, '09:00', '17:00', '205'),
(10, 6, '09:00', '15:00', '205'),

-- Врач 11 - Педиатр (Зайцева М.С.)
(11, 1, '08:00', '15:00', '112'),
(11, 2, '08:00', '15:00', '112'),
(11, 3, '08:00', '15:00', '112'),
(11, 4, '08:00', '15:00', '112'),
(11, 5, '08:00', '15:00', '112'),

-- Врач 12 - Травматолог (Павлов А.О.)
(12, 1, '08:00', '20:00', '308'),
(12, 2, '08:00', '20:00', '308'),
(12, 3, '08:00', '20:00', '308'),
(12, 4, '08:00', '20:00', '308'),
(12, 5, '08:00', '20:00', '308'),
(12, 6, '09:00', '16:00', '308'),

-- Врач 13 - Дерматолог (Семенова Ю.И.)
(13, 2, '10:00', '18:00', '127'),
(13, 3, '10:00', '18:00', '127'),
(13, 4, '10:00', '18:00', '127'),
(13, 5, '10:00', '18:00', '127'),

-- Врач 14 - Психиатр (Голубев В.Р.)
(14, 1, '12:00', '20:00', '233'),
(14, 3, '12:00', '20:00', '233'),
(14, 5, '12:00', '20:00', '233'),

-- Врач 15 - Онколог (Воробьева Т.В.)
(15, 2, '09:00', '17:00', '341'),
(15, 4, '09:00', '17:00', '341'),
(15, 6, '09:00', '14:00', '341');

-- Добавление оказанных услуг
INSERT INTO services (doctor_id, service_name, service_date, price, patient_name) VALUES
-- Услуги врача 1 - Терапевт (Соколов А.И.)
(1, 'Первичный осмотр', '2024-03-01', 1800.00, 'Константинов П.Р.'),
(1, 'Диагностика ОРВИ', '2024-03-05', 1500.00, 'Миронова С.В.'),
(1, 'Выписка рецепта', '2024-03-10', 900.00, 'Константинов П.Р.'),
(1, 'Профилактический осмотр', '2024-03-15', 2200.00, 'Тарасов А.М.'),

-- Услуги врача 2 - Хирург (Новикова В.А.)
(2, 'Консультация перед операцией', '2024-03-02', 2500.00, 'Гришин М.К.'),
(2, 'Удаление атеромы', '2024-03-06', 7500.00, 'Гришин М.К.'),
(2, 'Послеоперационный осмотр', '2024-03-12', 1200.00, 'Гришин М.К.'),
(2, 'Снятие швов', '2024-03-18', 1000.00, 'Гришин М.К.'),

-- Услуги врача 3 - Кардиолог (Кузнецов М.Д.)
(3, 'Консультация кардиолога', '2024-03-03', 3000.00, 'Борисова Л.Н.'),
(3, 'ЭКГ с расшифровкой', '2024-03-07', 1800.00, 'Борисова Л.Н.'),
(3, 'Холтер-мониторирование', '2024-03-14', 5200.00, 'Филиппов И.Д.'),
(3, 'Назначение терапии', '2024-03-20', 2000.00, 'Борисова Л.Н.'),

-- Услуги врача 4 - Невролог (Мельникова А.С.)
(4, 'Консультация невролога', '2024-03-04', 2800.00, 'Савельев Р.О.'),
(4, 'Лечение мигрени', '2024-03-08', 3500.00, 'Савельев Р.О.'),
(4, 'Блокада при остеохондрозе', '2024-03-16', 4200.00, 'Колесников В.П.'),

-- Услуги врача 5 - Офтальмолог (Попов К.В.)
(5, 'Проверка зрения', '2024-03-05', 1200.00, 'Антонова Е.С.'),
(5, 'Подбор контактных линз', '2024-03-09', 1800.00, 'Антонова Е.С.'),
(5, 'Осмотр глазного дна', '2024-03-17', 2400.00, 'Матвеев С.А.'),

-- Услуги врача 6 - Стоматолог (Лебедева Е.А.)
(6, 'Консультация стоматолога', '2024-03-06', 1500.00, 'Крылов Д.И.'),
(6, 'Лечение кариеса', '2024-03-10', 5500.00, 'Крылов Д.И.'),
(6, 'Профессиональная гигиена', '2024-03-18', 4200.00, 'Тихонова М.П.'),

-- Услуги врача 7 - ЛОР (Морозов Д.П.)
(7, 'Осмотр ЛОР-органов', '2024-03-07', 1900.00, 'Субботин А.В.'),
(7, 'Промывание носа', '2024-03-11', 1500.00, 'Субботин А.В.'),

-- Услуги врача 8 - Гинеколог (Волкова О.М.)
(8, 'Профилактический осмотр', '2024-03-08', 2400.00, 'Кузьмина А.Р.'),
(8, 'УЗИ диагностика', '2024-03-15', 3200.00, 'Кузьмина А.Р.'),

-- Услуги врача 9 - Уролог (Соловьев Р.А.)
(9, 'Консультация уролога', '2024-03-09', 2600.00, 'Медведев О.Л.'),
(9, 'УЗИ почек', '2024-03-16', 2800.00, 'Медведев О.Л.'),

-- Услуги врача 10 - Эндокринолог (Васильева И.В.)
(10, 'Консультация эндокринолога', '2024-03-10', 2700.00, 'Орлова Т.К.'),
(10, 'Анализ гормонального фона', '2024-03-17', 3800.00, 'Орлова Т.К.'),

-- Услуги врача 11 - Педиатр (Зайцева М.С.)
(11, 'Осмотр ребенка', '2024-03-11', 1600.00, 'Романов А.Б. (ребенок)'),
(11, 'Вакцинация', '2024-03-19', 1200.00, 'Иванова М.С. (ребенок)'),

-- Услуги врача 12 - Травматолог (Павлов А.О.)
(12, 'Наложение гипса', '2024-03-12', 3500.00, 'Сергеев П.М.'),
(12, 'Рентгенография', '2024-03-20', 2100.00, 'Сергеев П.М.'),

-- Услуги врача 13 - Дерматолог (Семенова Ю.И.)
(13, 'Консультация дерматолога', '2024-03-13', 2200.00, 'Полякова В.Д.'),
(13, 'Удаление родинки', '2024-03-21', 4800.00, 'Полякова В.Д.'),

-- Услуги врача 14 - Психиатр (Голубев В.Р.)
(14, 'Психотерапевтическая консультация', '2024-03-14', 4000.00, 'Никитин К.Ю.'),
(14, 'Коррекция лечения', '2024-03-22', 2500.00, 'Никитин К.Ю.'),

-- Услуги врача 15 - Онколог (Воробьева Т.В.)
(15, 'Консультация онколога', '2024-03-15', 3500.00, 'Макаров И.Г.'),
(15, 'Назначение обследования', '2024-03-23', 2800.00, 'Макаров И.Г.');